#!/usr/bin/env bash
# 自动激活 conda 环境 TimeCMA_Qwen3
# 使用 direnv 工具：https://direnv.net/
# 安装方法: conda install -c conda-forge direnv
# 然后在 ~/.bashrc 或 ~/.zshrc 中添加: eval "$(direnv hook bash)" 或 eval "$(direnv hook zsh)"

# 初始化 conda（如果还没有初始化）
if [ -z "$CONDA_DEFAULT_ENV" ]; then
    # 尝试找到 conda
    if [ -f "$HOME/anaconda3/etc/profile.d/conda.sh" ]; then
        source "$HOME/anaconda3/etc/profile.d/conda.sh"
    elif [ -f "$HOME/miniconda3/etc/profile.d/conda.sh" ]; then
        source "$HOME/miniconda3/etc/profile.d/conda.sh"
    elif [ -f "/opt/conda/etc/profile.d/conda.sh" ]; then
        source "/opt/conda/etc/profile.d/conda.sh"
    fi
fi

# 激活 conda 环境
if command -v conda &> /dev/null; then
    conda activate TimeCMA_Qwen3
    echo "✓ 已自动激活 conda 环境: TimeCMA_Qwen3"
else
    echo "⚠ 警告: 未找到 conda 命令"
fi

